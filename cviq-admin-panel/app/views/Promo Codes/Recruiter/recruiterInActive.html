<style>
    .whirl:after {  position: fixed;  }
    .scores input{text-align: center}
    h2{color: #0297cf;  }
    h3{color: #0297cf;margin-top: 5px  }
    h1,h2,h3,h4{
        font-weight: normal;
    }

</style>

<h3>
    Recruiter In Active Promo Codes
    <small>Displaying list of all Recruiter In Active Promo Codes in the system.</small>
</h3>
<div ng-controller="RecruiterInActiveController" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="margin: 15px 0px">
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default" ng-class="{'whirl duo' : showloader }">
                <div style="clear:both"></div>
                <div class="panel-body">
                    <div class="row" style="position: relative">
                        <div class=" col-xs-5 col-sm-4 col-md-3 col-lg-3 col-xs-offset-7 col-sm-offset-8 col-md-offset-9 col-lg-offset-9">
                            <div class="input-group" style="padding-top: 10%;">
                                <div class="input-group-addon"><i class="fa fa-search"></i></div>
                                <input type="text" class="form-control" placeholder="Search" ng-model="search">
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive" ng-switch="(list | filter:search).length">
                        <div ng-switch-when="0" class="noSearch"><span>No Promo Code Found</span></div>
                        <table id="datatable2" class="table table-hover" ng-switch-default>
                            <thead>
                            <tr>
                                <th style="min-width:70px">
                                    <div style="text-align:center;" ng-click="sort('index')">
                                        Sr. No.
                                        <span style="opacity:0.5" ng-hide="predicate == 'index' && reverse || predicate == 'index' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'index' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'index' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:100px">
                                    <div style="text-align:center;" ng-click="sort('promoName')">
                                        Name
                                        <span style="opacity:0.5" ng-hide="predicate == 'promoName' && reverse || predicate == 'promoName' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'promoName' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'promoName' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:100px">
                                    <div style="text-align:center;" ng-click="sort('value')">
                                        Value
                                        <span style="opacity:0.5" ng-hide="predicate == 'value' && reverse || predicate == 'value' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'value' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'value' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>

                                <th style="min-width:100px">
                                    <div style="text-align:center;" ng-click="sort('promoType')">
                                        Type
                                        <span style="opacity:0.5" ng-hide="predicate == 'promoType' && reverse || predicate == 'promoType' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'promoType' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'promoType' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:100px">Description</th>
                                <th style="min-width:100px">
                                    <div style="text-align:center;" ng-click="sort('maxUser')">
                                        Max User
                                        <span style="opacity:0.5" ng-hide="predicate == 'maxUser' && reverse || predicate == 'maxUser' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'maxUser' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'maxUser' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:150px">
                                    <div style="text-align:center;" ng-click="sort('howManyTimes')">
                                        Limit per User
                                        <span style="opacity:0.5" ng-hide="predicate == 'howManyTimes' && reverse || predicate == 'howManyTimes' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'howManyTimes' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'howManyTimes' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:200px">
                                    <div style="text-align:center;" ng-click="sort('createdAt')">
                                        Added On
                                        <span style="opacity:0.5" ng-hide="predicate == 'createdAt' && reverse || predicate == 'createdAt' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'createdAt' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'createdAt' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:200px">
                                    <div style="text-align:center;" ng-click="sort('startTime')">
                                        Start Time
                                        <span style="opacity:0.5" ng-hide="predicate == 'startTime' && reverse || predicate == 'startTime' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'startTime' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'startTime' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <th style="min-width:200px">
                                    <div style="text-align:center;" ng-click="sort('endTime')">
                                        End Time
                                        <span style="opacity:0.5" ng-hide="predicate == 'endTime' && reverse || predicate == 'endTime' && !reverse" class="fa fa-sort"></span>
                                        <span ng-show="predicate == 'endTime' && !reverse" class="fa fa-caret-down"></span>
                                        <span ng-show="predicate == 'endTime' && reverse" class="fa fa-caret-up"></span>
                                    </div>
                                </th>
                                <!--<th style="min-width:100px">-->
                                <!--<div style="text-align:center;" ng-click="sort('isAvailable')">-->
                                <!--Status-->
                                <!--<span style="opacity:0.5" ng-hide="predicate == 'isAvailable' && reverse || predicate == 'isAvailable' && !reverse" class="fa fa-sort"></span>-->
                                <!--<span ng-show="predicate == 'isAvailable' && !reverse" class="fa fa-caret-down"></span>-->
                                <!--<span ng-show="predicate == 'isAvailable' && reverse" class="fa fa-caret-up"></span>-->
                                <!--</div>-->
                                <!--</th>-->
                                <th style="min-width:100px">Actions</th>
                            </tr>
                            </thead>
                            <tbody >
                            <tr style='background-color: {{data.color}} !important'
                                ng-repeat="data in filtered =  list| filter:search | orderBy:predicate:reverse">
                                <td style="text-align: center">{{data.index + 1}}</td>
                                <td class="text-center" style="text-transform: capitalize">{{data.promoName}}</td>
                                <td class="text-center" style="text-transform: capitalize">{{data.value}}</td>

                                <td class="text-center" style="text-transform: capitalize"><span ng-show="data.promoType==1">Percentage</span><span ng-show="data.promoType==2">Amount</span></td>
                                <td class="text-center" style="text-transform: capitalize">{{data.description}}</td>
                                <td class="text-center" style="">{{data.maxUser}}</td>
                                <td class="text-center" style=" ">{{data.howManyTimes}}</td>
                                <td class="text-center" >{{data.createdAt}}</td>
                                <td class="text-center" >{{data.startTime}}</td>
                                <td class="text-center" >{{data.endTime}}</td>
                                <!--<td style="text-transform: capitalize"><b>Active : </b> <span ng-show="data.isAvailable">Yes</span><span ng-hide="data.isAvailable">No</span></td>-->
                                <td>
                                    <div  class="flexDisplay">
                                        <a style="margin: 0px 2px;" class="btn btn-sm btn-default1" title="Block" ng-click="editfunc(data)"><!--style="background-color:#666666"-->
                                            <i class="fa fa-pencil-square-o"></i>
                                        </a>
                                        <a style="margin: 0px 2px;" class="btn btn-sm btn-default1" title="UnBlock" ng-click="delete(data)"><!--style="background-color:#666666"-->
                                            <i class="fa fa-trash-o"></i>
                                        </a>
                                        <a style="margin: 0px 2px;" class="btn btn-sm btn-default1" title="Activate" ng-click="activeInActive(data)"><!--style="background-color:#666666"-->
                                            <i class="fa fa-unlock-alt unblock-icon"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- ***************************************************************************
******************* Modal for update  ************************************
********************************************************************************-->


    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content" >
                <div class="modal-header" style="position: relative;">
                    <h4>EDIT PROMO CODE</h4>
                    <i class="fa fa-times fa-lg" style=" cursor: pointer;position: absolute;top: 10px;right: 12px;" data-dismiss="modal" aria-hidden="true"></i>
                </div>
                <form  name="memberForm" ng-submit="update(updatedata)" novalidate>
                    <section>
                        <div class=" member-form clearfix">
                            <div class="row" style="margin-top: 20px">
                                <div class="search-wrapper">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form">
                                        <div class="clearfix">
                                            <div class="form-elements col-lg-6 col-md-6 col-sm-6 col-xs-6 ">
                                                <label>Promo Name</label>
                                                <input style="text-transform: uppercase" type="text" minlength="2" maxlength="30" ng-keypress='FirsText($event)' ng-model="updatedata.promoName" name="promoName" placeholder="Enter Promo Name"  required />
                                                <div ng-show="memberForm.$submitted || memberForm.promoName.$touched">
                                                    <div class="error-message" ng-show="memberForm.promoName.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Please Enter Promo Name.</div>
                                                    <div class="error-message" ng-show="!memberForm.promoName.$error.required && memberForm.promoName.$invalid"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Min 2 Characters Required.</div>
                                                </div>
                                            </div>

                                            <div class="form-elements col-lg-6 col-md-6 col-sm-6 col-xs-6 ">
                                                <label>Value</label>
                                                <input  class="text-capitalize" limit-to="3" type="text"  ng-keypress='isNumberKey($event)' ng-model="updatedata.value" name="value" placeholder="Enter Value"  required />
                                                <div ng-show="memberForm.$submitted || memberForm.value.$touched">
                                                    <div class="error-message" ng-show="memberForm.value.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Please Enter Value.</div>
                                                </div>
                                            </div>
                                            <div class="form-elements col-lg-6 col-md-6 col-sm-6 col-xs-6 ">
                                                <label>Max User</label>
                                                <input  class="text-capitalize" limit-to="8" type="text"  ng-keypress='isNumberKey($event)' ng-model="updatedata.maxUser" name="maxUser" placeholder="Enter Max User"  required />
                                                <div ng-show="memberForm.$submitted || memberForm.maxUser.$touched">
                                                    <div class="error-message" ng-show="memberForm.maxUser.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Please Enter Max User.</div>
                                                </div>
                                            </div>
                                            <div class="form-elements col-lg-6 col-md-6 col-sm-6 col-xs-6 ">
                                                <label>Limit per User</label>
                                                <input  class="text-capitalize" limit-to="2" type="text"  ng-keypress='isNumberKey($event)' ng-model="updatedata.howManyTimes" name="howManyTimes" placeholder="Enter Usage per User"  required />
                                                <div ng-show="memberForm.$submitted || memberForm.howManyTimes.$touched">
                                                    <div class="error-message" ng-show="memberForm.howManyTimes.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Please Enter Usage per User.</div>
                                                </div>
                                            </div>
                                            <div style="padding: 0 15px" class="form-elements input-group date col-lg-6 col-md-6 col-sm-6 col-xs-6" id='datetimepicker1'>
                                                <label>From</label>
                                                <em class="input-group-addon dateTime" ></em>
                                                <em class=" fa fa-calendar fa-lg iconColor"  ></em>
                                                <input readonly type='text' required />
                                                <!--<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>-->
                                                <div ng-show="date1error">
                                                    <div class="error-message" ><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> This Field is Required.</div>
                                                </div>
                                            </div>
                                            <div style="padding: 0 15px" class="form-elements input-group date col-lg-6 col-md-6 col-sm-6 col-xs-6" id='datetimepicker2'>
                                                <label>To</label>
                                                <em class="input-group-addon dateTime" ></em>
                                                <em class=" fa fa-calendar fa-lg iconColor" ></em>
                                                <input readonly type='text' ng-model="updatedata.endTime" required  id="date2calander"/>
                                                <!--<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>-->
                                                <div ng-show="date2error">
                                                    <div class="error-message" ><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> This Field is Required.</div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 ProfileFormElements form-elements ">
                                                <div class="dropdown custom-select-box main-dropdown">
                                                    <label>Promo Type</label>
                                                    <select name="planType" ng-model="updatedata.promoType" class="selectpicker" data-live-search="false" ng-options="promo.id as promo.name for promo in promoTypeArray" required>
                                                        <option value="" disabled hidden>Select Promo Type</option>
                                                    </select>
                                                </div>
                                                <div ng-show="memberForm.$submitted || memberForm.planType.$touched">
                                                    <div class="error-message" ng-show="memberForm.planType.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Please Select Plan Type.</div>
                                                </div>

                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 ProfileFormElements form-elements ">
                                                <div class="dropdown custom-select-box main-dropdown">
                                                    <label>Activeness</label>
                                                    <select name="isAvailable" ng-model="updatedata.isAvailable" class="selectpicker" data-live-search="false" ng-options="available.bool as available.name  for available in isAvailableArray" required>
                                                        <option value="" disabled hidden>Select Activeness Status</option>
                                                    </select>
                                                </div>
                                                <div ng-show="memberForm.$submitted || memberForm.isAvailable.$touched">
                                                    <div class="error-message" ng-show="memberForm.isAvailable.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Please Select Plan Type.</div>
                                                </div>

                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12    form-elements ">
                                                <label>Description</label>
                                                <textarea style="min-height: 90px" class="textArea" type="text" maxlength="100" placeholder="Enter Description" name="description" ng-model="updatedata.description" required ></textarea>
                                                <div ng-show="memberForm.$submitted || memberForm.description.$touched">
                                                    <div class="error-message" ng-show="memberForm.description.$error.required"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> This Field is Required.</div>
                                                    <!--<div class="error-message" ng-show="NewPlan.planDescription.$invalid && NewPlan.planDescription.$error.required!=true"><i class="fa fa-exclamation-triangle err-icon" aria-hidden="true"></i> Job Description must be at least 3 characters long.</div>-->
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 " style="display: flex" >
                                                <button style="padding: 16px 10px;margin: 0 auto 20px;" type="submit" class="btn btn-primary sbmt-btn myButton" >UPDATE PROMO CODE </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </section>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="success">
    <div class="ngdialog-message">
        <h4 style="text-align: center">Updated successfully</h4>
        <!-- POP UP -->

    </div>
</script>
<script type="text/ng-template" id="error">
    <div class="ngdialog-message">
        <h4 style="text-align: center">{{error}}</h4>

    </div>
</script>


<!-- **************************************************************************
   ******************* Modal to display msg **************************************
   *******************************************************************************-->
<script type="text/ng-template" id="display_msg_modalDialog">
    <div style="text-align: center" class="ngdialog-message">
        <h4>{{displaymsg}}</h4>
        <a type="submit" ng-click="refreshPage()" class=" btn btn-primary" style="margin-top:20px;text-align: center">OK</a>
        <div style="clear: both;"></div>
    </div>
</script>
<!-- **************************************************************************
******************* Modal to display unauth msg **************************************
*******************************************************************************-->
<script type="text/ng-template" id="unauth_msg_modalDialog">
    <div style="text-align: center" class="ngdialog-message">
        <h4>{{unAuthMsg}}</h4>
        <a type="submit" ng-click="forceLogin()" class=" btn btn-primary" style="margin-top:20px;text-align: center">OK</a>
        <div style="clear: both;"></div>
    </div>
</script>




<!-- ***************************************************************************
******************* Modal for delete member ************************************
********************************************************************************-->
<script type="text/ng-template" id="delete_member_modalDialog">
    <div class="ngdialog-message">
        <h4>Are you sure you want to delete {{promo_name}}?</h4>
        <div style="  margin-top: 20px;text-align: center;">
            <button style="margin-right: 5px;" type="submit" ng-click="confirmDelete(promo_id)" class="myButton btn btn-primary" >Yes</button>
            <button style="margin-left: 5px;" type="submit" ng-click="closeThisDialog(0)" class="myButton  btn btn-default" >No</button>
        </div>
    </div>
</script>


<!-- ***************************************************************************
******************* Modal for activeInActive member ************************************
********************************************************************************-->
<script type="text/ng-template" id="activeInActive_member_modalDialog">
    <div class="ngdialog-message">
        <h4>Are you sure you want to Activate {{activeInActive_name}}?</h4>
        <div style="  margin-top: 20px;text-align: center;">
            <button style="margin-right: 5px;" type="submit" ng-click="confirmActiveInActive(activeInActive_id)" class="myButton btn btn-primary" >Yes</button>
            <button style="margin-left: 5px;" type="submit" ng-click="closeThisDialog(0)" class="myButton  btn btn-default" >No</button>
        </div>
    </div>
</script>
